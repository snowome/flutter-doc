<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="icon" href="../../favicon.ico">
    <title>RichText</title>
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/base.css">
    <link rel="stylesheet" href="../../css/weui.css">
    <link rel="stylesheet" href="../../lib/highlight/styles/default.min.css">
    <link rel="stylesheet" href="../../lib/highlight/styles/atom-one-dark-reasonable.min.css">
    <link rel="stylesheet" href="../../css/page.css">
</head>
<body>
<article class="weui-article">
    <h1>RichText</h1>

    <p>用来显示一段带有不同样式效果的文字，即富文本。</p>
    <pre>
<code class="language-dart">
RichText(
    text: TextSpan(
        children: [
            TextSpan(text: '16.75', style: const TextStyle(fontSize: 16, color: Colors.orange)),
            TextSpan(text: '豪华型', style: const TextStyle(fontSize: 12, color: Colors.grey)),
        ],
    ),
)

</code>
    </pre>

<p>一个将段落的搜索文字高亮的函数例子：</p>
    <pre>
<code class="language-dart">
_keywordTextSpans(String? words, String? keyword) {
    List&lt;TextSpan&gt; spans = [];
    if (words == null || words.isEmpty) return spans;
    keyword ??= '';
    //搜索关键字高亮忽略大小写
    String wordL = words.toLowerCase(), keywordL = keyword.toLowerCase();
    List&lt;String&gt; arr = wordL.split(keywordL);
    TextStyle normalStyle = const TextStyle(fontSize: 16, color: Colors.black87);
    TextStyle keywordStyle = const TextStyle(fontSize: 16, color: Colors.orange);
    int preIndex = 0;
    for (int i = 0; i < arr.length; i++) {
        if (i != 0) {
            preIndex = wordL.indexOf(keywordL, preIndex);
            spans.add(TextSpan(text: words.substring(preIndex, preIndex + keyword.length), style: keywordStyle));
        }
        String val = arr[i];
        if (val.isNotEmpty) {
            spans.add(TextSpan(text: val, style: normalStyle));
        }
    }
    return spans;
}
</code>
    </pre>
</article>
<script src="../../lib/highlight/highlight.min.js"></script>
<script src="../../lib/highlight/languages/dart.min.js"></script>
<script>hljs.highlightAll();</script>
</body>
</html>
